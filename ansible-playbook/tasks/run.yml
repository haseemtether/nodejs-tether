---
- name: Build and start Docker containers using Docker Compose
  command: docker-compose -f "{{ repo_dest }}/docker-compose.yml" up -d
  args:
    chdir: "{{ repo_dest }}"

- name: Ensure Docker Compose is installed
  command: docker-compose --version
  register: docker_compose_version
  failed_when: docker_compose_version.rc != 0

- name: Display Docker Compose version
  debug:
    msg: "Docker Compose version: {{ docker_compose_version.stdout }}"

